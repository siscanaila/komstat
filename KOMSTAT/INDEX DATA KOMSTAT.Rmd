---
title: "Data Indexing pada R"
author: "REZKINA KAUSARANI"
date: "2025-06-13"
output:
  html_document:
    theme: cosmo
    highlight: tango
    toc: true
    toc_float: true
    toc_depth: 4
    
    includes:
      in_header: navbar.html
---


```{r setup, include=FALSE}
# HANYA SATU chunk setup di dokumen
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  fig.align = "center"
)
library(dplyr)
library(knitr)
```

### **1. DEFINISI**

> _Data indexing_ adalah proses menciptakan indeks atau **petunjuk lokasi data dalam dataset** yang besar. Index ini memungkinkan pengambilan data spesifik secara lebih cepat dan efisien tanpa perlu mencari seluruh dataset,  sehingga kita bisa mengakses, mengambil, dan mengelola data dengan cepat dan efisien.

Data indexing di R bisa dianalogikan dengan berbagai aktivitas sehari-hari di mana kita perlu mencari, mengakses, atau memilih sesuatu dari kumpulan yang lebih besar.Contohnya indexing seperti Mencari Buku di Perpustakaan.
Jika ingin mencari buku "Laskar Pelangi" di perpustakaan:

>1. Indexing Numerik: "Ambil buku di rak 3, baris ke-5" → buku[3,5]
>2. Indexing Nama: "Cari buku berjudul Laskar Pelangi" → buku[buku$judul == "Laskar Pelangi", ] <br>
>3. Logical Indexing: "Ambil semua buku genre Fiksi" → buku[buku$genre == "Fiksi", ]



### **2. Jenis-jenis Data Indexing**

#### **2.1. Positional indexing (Pengindeksan Posisi)**

>Metode untuk mengakses data berdasarkan posisi atau urutan numerik dalam suatu struktur data, biasanya dimulai dari indeks pertama

#### **2.2 Label-based indexing**

>Metode untuk mengakses data berdasarkan nama atau label dari baris atau kolom, bukan berdasarkan posisi numeriknya

#### **2.3. Boolean indexing**

>Metode untuk mengakses data dengan menggunakan ekspresi logika atau kondisi boolean (True atau False). Hanya elemen yang memenuhi kondisi (True) yang diambil.

#### **2.4. Advanced indexing dengan dplyr**

>Metode memilih, memfilter, atau menyusun data berdasarkan kondisi kompleks, kolom tertentu, atau posisi baris menggunakan fungsi-fungsi deklaratif seperti filter(), select(), slice(), dan arrange(). Operasi dilakukan dalam gaya piping (%>%) untuk alur yang lebih mudah dibaca

### **3. Contoh**

#### **3.1 _Positional Indexing_ (Pengindeks Posisi)**
Misalkan ingin dilakukan positional indexing pada data set iris untuk melakukan hal ini digunakan syntax berupa : <br>

**3.1.1. Berdasarkan baris**
```{r}
iris[1:3,]
```
_syntax_  ini akan menghasilkan data baris 1 sampai 3 semua kolom data set iris


**3.1.2. Berdasarkan kolom**
```{r}
head(iris[,1:3])
```

_syntax_ ini akan menghasilkan data semua baris dalam data iris kolom 1 sampai 3
 
   
Pada _Positional indexing_ posisi nilai awal sebelum koma penunjukan posisi baris yang ingin diambil dan setelah kolom yang ingin diambil. 

#### **3.2Label Based Indexing**
**3.2.1Mengambil seluruh kolom 'Sepal.Length' dengan $**
```{r}
head(iris$Sepal.Length)
```

**3.2.2Mengambil kolom 'Petal.Width' dengan [[ ]]**
```{r}
head(iris[["Petal.Width"]] )

```

**3.2.3Fleksibel dengan variabel**
```{r}
target_kolom <- "Species"
head(iris[[target_kolom]])
```


#### **3.3Logical Indexing**
**3.3.1Mengambil data dimana Species == "setosa" dan Sepal.Length > 5**
```{r}

head(iris[iris$Species == "setosa" & iris$Sepal.Length > 5, ])

```
**3.3.2Menggunakan which() untuk mengetahui posisi baris**
Posisi baris dengan Petal.Width > 2
```{r}
head(which(iris$Petal.Width > 2))  
```
Mengambil kolom numerik saja
```{r}
head(iris[sapply(iris, is.numeric)]) 
```


```{r echo=FALSE}
which(iris$Petal.Width > 2)
```

#### **3.4.Advanced Filtering**
Advanced filtering di dplyr mengacu pada teknik seleksi data yang lebih canggih daripada filter dasar, dengan karakteristik:

1. Kombinasi Kondisi Kompleks:<br>
  Menggabungkan multiple conditions dengan operator logika (&, |, %in%)

2. Seleksi Kolom Cerdas<br>
  Memilih kolom berdasarkan pola nama bukan posisi
  
3. Transformasi Data dalam Filter
  Membuat kolom baru sambil memfilter:
 
4.  Operasi Berkelompok (Group-wise)
  Filter berdasarkan statistik grup:



**3.4.1. Filtering**

**a.Filter iris dimana untuk memilih data dengan variabel tertentu**
```{r}
library(dplyr)
setosa_besar <- iris %>%
filter(Species == "setosa" ,
      Sepal.Length > 5)
setosa_besar
```

**b.Filter dengan %in% untuk  kategori yang lebih dari satu**
```{r}
spesies_terpilih <- c("setosa", "versicolor")
hasil_filter <- iris %>%
  filter(Species %in% spesies_terpilih,
         Petal.Width >= 0.5)
head(spesies_terpilih)

```


**3.4.2. Select Kolom**
**a.memilih kolom tertentu**
```{r}
kolom_dipilih <- iris %>%
  select(Sepal.Length, Petal.Length, Species)
head(kolom_dipilih)
```

**b.Memilih kolom dengan pola dengan awalan nama tertentu**
```{r}
kolom_pola <- iris %>%
  select(starts_with("Petal"), Species)  # Mengambil Petal.Length, Petal.Width, dan Species
head(kolom_pola)
```
 
**c.Memilih kolom dengan pola dengan label tertentu  dalam data **
```{r}
kolom_contains <- iris %>%
  select(contains("Width"))  # Mengambil Sepal.Width dan Petal.Width
head(kolom_contains)
```

**3.4.3_Mutate_**

```{r}
iris_diolah <- iris %>%
  mutate(
    Sepal.Ratio = Sepal.Length/Sepal.Width,
    Size.Category = case_when(
      Sepal.Length > 6 ~ "Large",
      Sepal.Length > 5 ~ "Medium",
      TRUE ~ "Small"
    )
  )
head(iris_diolah)
```

**3.4.4._Group By_**
**a.Rata-rata panjang sepal per species**
```{r}
summary_spesies <- iris %>%
  group_by(Species) %>%
  summarise(
    Avg_Sepal_Length = mean(Sepal.Length),
    Median_Petal_Width = median(Petal.Width),
    Count = n()
  )
summary_spesies
```
 **b.Multiple aggregations**
```{r}
detail_summary <- iris %>%
  group_by(Species) %>%
  summarise(across(c(Sepal.Length, Petal.Width), 
            list(mean = mean, sd = sd, max = max)))
detail_summary
```